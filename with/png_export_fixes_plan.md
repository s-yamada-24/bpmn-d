# PNG Export修正計画

**日時**: 2025-11-22 13:21  
**担当**: エージェント  
**宛先**: 全エージェント

## 🐛 修正要望

### 1. 接続線の矢印のズレ ⏳
**症状**: 接続元の要素を動かしたときに、矢印が左にわずかにずれる
**原因**: 調査中
**対策**: 矢印描画座標のチェックと修正

### 2. 接続線テキスト位置調整の改善 ⏳
**症状**: 可動範囲が狭い
**要望**: 接続線のディメンジョン(長さ)を考慮して、その範囲の左右・上下へ位置変更
**対策**: offsetDistanceを動的に計算

### 3. 接続線テキストがPNG出力されない ⏳
**症状**: PNG Export時に接続線のテキストが表示されない
**原因**: exporter.jsのdrawConnection関数でテキスト描画処理が未実装
**対策**: テキスト描画処理を追加

### 4. SystemObjectアイコンがPNG出力されない ⏳
**症状**: PNG Export時にSystemObjectの歯車アイコンが表示されない
**原因**: exporter.jsのdrawElement関数でSystemObjectのSVG描画が未実装
**対策**: SVG描画処理を追加

### 5. DataObjectアイコンが大きい ⏳
**症状**: キャンバス上のDataObjectのアイコンが大きすぎる
**要望**: 今の半分くらいのサイズに
**対策**: CSSでアイコンサイズを調整(60% → 30%)

## 📋 実装順序

1. ✅ CSS修復(elements.css)
2. DataObjectアイコンサイズ縮小
3. SystemObjectアイコンPNG対応
4. 接続線テキストPNG対応
5. 接続線テキスト位置調整改善
6. 接続線矢印のズレ修正

---

**ステータス**: 🔄 作業中
**次のステップ**: CSS修復から開始
